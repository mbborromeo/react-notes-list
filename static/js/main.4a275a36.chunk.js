(this["webpackJsonpreact-notes-list"]=this["webpackJsonpreact-notes-list"]||[]).push([[0],{18:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),i=c(20),r=c.n(i),s=(c(27),c(8)),l=c(2),j=c(12),o=c(6);var b=function(e){var t=e.value,c=e.handleOnChange,a=e.view;return Object(n.jsx)("textarea",{id:"note",name:"note",rows:"detail"===a?16:4,cols:"35",wrap:"hard",placeholder:"Type note",value:t,onChange:c})};var u=function(e){var t=e.value,c=e.handleOnChange,a=e.view;return Object(n.jsxs)("select",{name:"priority",id:"priority",value:t,onChange:c,children:["list"===a?Object(n.jsx)("option",{value:"all",children:"ALL"}):Object(n.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Select priority"}),Object(n.jsx)("option",{value:"high",children:"High"}),Object(n.jsx)("option",{value:"normal",children:"Normal"}),Object(n.jsx)("option",{value:"low",children:"Low"})]})};c(18);var d=function(e){var t=e.addFunction,c=Object(a.useState)(""),i=Object(o.a)(c,2),r=i[0],s=i[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),d=j[0],O=j[1],h=Object(a.useState)(""),x=Object(o.a)(h,2),f=x[0],v=x[1],p=function(){s(""),O(""),v("")},m=Object(a.useCallback)((function(e){e.preventDefault(),r||d?r||!d?d||!r?(t(r,d),p()):v("Priority must be selected"):v("Note must not be empty"):v("Note must not be empty and priority must be selected")}),[r,d,t]),g=Object(a.useCallback)((function(e){s(e.target.value)}),[]),y=Object(a.useCallback)((function(e){O(e.target.value)}),[]);return Object(n.jsxs)("form",{onSubmit:m,children:[Object(n.jsx)(b,{value:r,handleOnChange:g}),Object(n.jsx)("br",{}),Object(n.jsx)(u,{value:d,handleOnChange:y}),"\xa0\xa0",Object(n.jsx)("button",{type:"submit",children:"Add"}),"\xa0",Object(n.jsx)("input",{type:"button",value:"Clear",onClick:function(){p()}}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{id:"feedback",children:f})]})};c(28);var O=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],i=t[1],r=Object(a.useState)("all"),l=Object(o.a)(r,2),b=l[0],O=l[1],h=Object(a.useCallback)((function(e){var t=Object(j.a)(c);t[e-1].deleted=!0,i(t)}),[c]),x=Object(a.useCallback)((function(){var e=c.map((function(e){return e.id})).sort((function(e,t){return e-t}));return e[e.length-1]||0}),[c]),f=Object(a.useCallback)((function(e,t){var n={id:x()+1,content:e,priority:t,deleted:!1},a=[].concat(Object(j.a)(c),[n]);i(a)}),[c,x]);Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("localList"));e&&i(e)}),[]),Object(a.useEffect)((function(){localStorage.setItem("localList",JSON.stringify(c))}),[c]);var v=Object(a.useMemo)((function(){if(c){var e=c.filter((function(e){return!e.deleted}));return"all"===b?e:e.filter((function(e){return e.priority===b}))}}),[c,b]),p=Object(a.useCallback)((function(e){O(e.target.value)}),[]);return v?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{id:"header",children:[Object(n.jsx)("h1",{children:"Notes List"}),Object(n.jsx)(d,{addFunction:f})]}),Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"width-half",children:"Note"}),Object(n.jsxs)("th",{className:"width-quarter",children:["Priority\xa0",Object(n.jsx)(u,{view:"list",value:b,handleOnChange:p})]}),Object(n.jsx)("th",{className:"width-quarter",children:"Actions"})]})}),v.length>0&&Object(n.jsx)("tbody",{children:v.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"content",children:Object(n.jsx)(s.b,{to:"/detail/".concat(e.id),"data-id":e.id,children:e.content})}),Object(n.jsx)("td",{className:"width-quarter",children:e.priority}),Object(n.jsxs)("td",{className:"width-quarter",children:[Object(n.jsx)(s.b,{to:"/detail/".concat(e.id),"data-id":e.id,children:"Edit"}),Object(n.jsx)("button",{type:"button","aria-label":"Delete item ".concat(e.id),onClick:function(){return h(e.id)},children:"X"})]})]},e.id)}))})]}),0===c.length&&Object(n.jsx)("div",{children:"No results to display"})]}):Object(n.jsx)("div",{children:"Loading..."})};var h=function(e){var t=e.match,c=Object(a.useState)([]),i=Object(o.a)(c,2),r=i[0],l=i[1],d=Object(a.useState)(""),O=Object(o.a)(d,2),h=O[0],x=O[1],f=Object(a.useState)(""),v=Object(o.a)(f,2),p=v[0],m=v[1],g=Object(a.useState)(!1),y=Object(o.a)(g,2),N=y[0],C=y[1],S=Object(a.useState)(""),k=Object(o.a)(S,2),w=k[0],L=k[1],E=parseInt(t.params.id),I=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current},J=I(h),q=I(p);console.log("prevExistingNote",J,typeof J),console.log("prevExistingPriority",q,typeof q),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("localList"));e&&(l(e),x(e[E-1].content),m(e[E-1].priority),C(!0))}),[E]),Object(a.useEffect)((function(){localStorage.setItem("localList",JSON.stringify(r))}),[r]);var A=Object(a.useCallback)((function(e,t){var c={id:E,content:e,priority:t},n=Object(j.a)(r);n[E-1]=c,l(n),L("Note updated")}),[r,E]),D=Object(a.useCallback)((function(e){e.preventDefault(),h||p?h||!p?!h||p?h!==J||p!==q?A(h,p):L("No change has been made"):L("Priority must be selected"):L("Note must not be empty"):L("Note must not be empty and priority must be selected")}),[h,p,J,q,A]),P=Object(a.useCallback)((function(e){x(e.target.value)}),[]),B=Object(a.useCallback)((function(e){m(e.target.value)}),[]);return N&&r.length>0?Object(n.jsxs)("div",{children:[Object(n.jsxs)("h3",{children:["Note - ID ",E]}),Object(n.jsxs)("form",{onSubmit:D,children:[Object(n.jsx)(b,{view:"detail",value:h,handleOnChange:P}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(u,{value:p,handleOnChange:B}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",children:"Update"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{id:"feedback",children:w}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(s.b,{to:"/",className:"button back",children:"< Back"})]}):N&&0===r.length?Object(n.jsx)("div",{children:"No detail to display"}):Object(n.jsx)("div",{children:"Loading..."})};c(34);var x=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(s.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/",exact:!0,component:O}),Object(n.jsx)(l.a,{path:"/detail/:id",exact:!0,component:h})]})})})};r.a.render(Object(n.jsx)(x,{}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.4a275a36.chunk.js.map